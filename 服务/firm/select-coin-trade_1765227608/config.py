"""
Quant Unified é‡åŒ–äº¤æ˜“ç³»ç»Ÿ
config.py
"""
import time

from core.utils.path_kit import get_folder_path

"""
âš ï¸ æ³¨æ„
ğŸš«å½“å‰ç­–ç•¥æä¾›çš„é»˜è®¤ç­–ç•¥ï¼Œä¾›æ¡†æ¶ç ”ç©¶å­¦ä¹ ä½¿ç”¨ï¼Œä¸èƒ½ç›´æ¥ç”¨äºå®ç›˜ã€‚
ğŸ“šè¯·ä»”ç»†ç ”ç©¶ç­–ç•¥ã€ç¡®å®šå‚æ•°ã€æ›´æ–°configæ–‡ä»¶åï¼Œå†è¿›è¡Œå®ç›˜æ“ä½œã€‚
ğŸ›Ÿå¦‚æœæœ‰ä¸æ˜ç™½çš„åœ°æ–¹å¯ä»¥è”ç³»åŠ©æ•™ã€‚
ğŸ”“ç¡®å®šä½ çš„ä»£ç åï¼Œä¿®æ”¹ `startup.py` ä¸­çš„ `safe_mode` å³å¯
"""

# ====================================================================================================
# ** è´¦æˆ·åŠç­–ç•¥é…ç½® **
# ã€æ ¸å¿ƒè®¾ç½®åŒºåŸŸã€‘è®¾ç½®è´¦æˆ·APIï¼Œç­–ç•¥è¯¦ç»†ä¿¡æ¯ï¼Œäº¤æ˜“çš„ä¸€äº›ç‰¹å®šå‚æ•°ç­‰ç­‰
# * æ³¨æ„ï¼Œä»¥ä¸‹åŠŸèƒ½éƒ½æ˜¯åœ¨config.pyä¸­å®ç°
# ====================================================================================================
account_config = {
    # äº¤æ˜“æ‰€APIé…ç½®
    'name': 'ç­–ç•¥ç ”ç©¶å®ç›˜è´¦æˆ·',
    'apiKey': '',
    'secret': '',

    # ++++ ç­–ç•¥é…ç½® ++++
    "strategy": {
        "hold_period": "8H",  # æŒä»“å‘¨æœŸï¼Œå¯ä»¥æ˜¯Hå°æ—¶ï¼Œæˆ–è€…Då¤©ã€‚ä¾‹å¦‚ï¼š1Hï¼Œ8Hï¼Œ24Hï¼Œ1Dï¼Œ3Dï¼Œ7D...
        "long_select_coin_num": 2,  # å¤šå¤´é€‰å¸æ•°é‡ï¼Œå¯ä¸ºæ•´æ•°æˆ–ç™¾åˆ†æ¯”ã€‚2 è¡¨ç¤º 2 ä¸ªï¼Œ10 / 100 è¡¨ç¤ºå‰ 10%
        "short_select_coin_num": 0,  # ç©ºå¤´é€‰å¸æ•°é‡ã€‚é™¤å’Œå¤šå¤´ç›¸åŒå¤–ï¼Œè¿˜æ”¯æŒ 'long_nums' è¡¨ç¤ºä¸å¤šå¤´æ•°é‡ä¸€è‡´ã€‚
        # æ³¨æ„ï¼šåœ¨is_pure_long = Trueæ—¶ï¼Œshort_select_coin_numå‚æ•°æ— æ•ˆ

        "factor_list": [  # é€‰å¸å› å­åˆ—è¡¨
            # å› å­åç§°ï¼ˆä¸ factors æ–‡ä»¶ä¸­çš„åç§°ä¸€è‡´ï¼‰ï¼Œæ’åºæ–¹å¼ï¼ˆTrue ä¸ºå‡åºï¼Œä»å°åˆ°å¤§æ’ï¼ŒFalse ä¸ºé™åºï¼Œä»å¤§åˆ°å°æ’ï¼‰ï¼Œå› å­å‚æ•°ï¼Œå› å­æƒé‡
            ('VolumeMeanRatio', True, 18 * 24, 1),
            # å¯æ·»åŠ å¤šä¸ªé€‰å¸å› å­
        ],
        "filter_list": [  # è¿‡æ»¤å› å­åˆ—è¡¨
            # å› å­åç§°ï¼ˆä¸ factors æ–‡ä»¶ä¸­çš„åç§°ä¸€è‡´ï¼‰ï¼Œå› å­å‚æ•°ï¼Œå› å­è¿‡æ»¤è§„åˆ™ï¼Œæ’åºæ–¹å¼
            # ('QuoteVolumeMean', 7, 'pct:<0.5', True),

            # ** å› å­è¿‡æ»¤è§„åˆ™è¯´æ˜ **
            # æ”¯æŒä¸‰ç§è¿‡æ»¤è§„åˆ™ï¼š`rank` æ’åè¿‡æ»¤ã€`pct` ç™¾åˆ†æ¯”è¿‡æ»¤ã€`val` æ•°å€¼è¿‡æ»¤
            # - `rank:<10` ä»…ä¿ç•™å‰ 10 åçš„æ•°æ®ï¼›`rank:>=10` æ’é™¤å‰ 10 åã€‚æ”¯æŒ >ã€>=ã€<ã€<=ã€==ã€!=
            # - `pct:<0.8` ä»…ä¿ç•™å‰ 80% çš„æ•°æ®ï¼›`pct:>=0.8` ä»…ä¿ç•™å 20%ã€‚æ”¯æŒ >ã€>=ã€<ã€<=ã€==ã€!=
            # - `val:<0.1` ä»…ä¿ç•™å°äº 0.1 çš„æ•°æ®ï¼›`val:>=0.1` ä»…ä¿ç•™å¤§äºç­‰äº 0.1 çš„æ•°æ®ã€‚æ”¯æŒ >ã€>=ã€<ã€<=ã€==ã€!=
            # å¯æ·»åŠ å¤šä¸ªè¿‡æ»¤å› å­å’Œè§„åˆ™ï¼Œå¤šä¸ªæ¡ä»¶å°†å–äº¤é›†
            # ('PctChange', 7, 'pct:>0.9', True),
        ],
        "filter_list_post": [  # è¿‡æ»¤å› å­åˆ—è¡¨
            # å› å­åç§°ï¼ˆä¸ factors æ–‡ä»¶ä¸­çš„åç§°ä¸€è‡´ï¼‰ï¼Œå› å­å‚æ•°ï¼Œå› å­è¿‡æ»¤è§„åˆ™ï¼Œæ’åºæ–¹å¼
            ('UpTimeRatio', 1000, 'val:>=0.5'),
        ],
    },

    'is_pure_long': True,  # Trueä¸ºçº¯å¤šæ¨¡å¼ï¼ŒFalseä¸ºå¤šç©ºæ¨¡å¼ã€‚çº¯å¤šæ¨¡å¼ä¸‹ï¼Œä»…ä½¿ç”¨ç°è´§æ•°æ®ï¼›å¤šç©ºæ¨¡å¼ä¸‹ï¼Œä»…ä½¿ç”¨åˆçº¦æ•°æ®ã€‚
    'use_offset': False,  # æ˜¯å¦å¼€å¯offsetåŠŸèƒ½ï¼ŒFalseä¸ºä¸å¼€å¯ï¼ŒTrueä¸ºå¼€å¯ã€‚

    "wechat_webhook_url": 'https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=',
    # åˆ›å»ºä¼ä¸šå¾®ä¿¡æœºå™¨äºº å‚è€ƒå¸–å­: https://bbs.quantclass.cn/thread/10975
    # é…ç½®æ¡ˆä¾‹  https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=xxxxxxxxxxxxxxxxxxx

    # ++++ å…¶ä»–é…ç½® ++++
    # å…¶ä»–å®ç›˜åŠŸèƒ½é…ç½®ï¼Œå¯ä»¥ä½¿ç”¨é»˜è®¤é…ç½®ï¼Œä¹Ÿå¯ä»¥è‡ªå·±é…ç½®
    "black_list": [],  # é»‘åå•åˆ—è¡¨ï¼Œä¸å‚ä¸äº¤æ˜“çš„å¸ç§
    "leverage": 1,  # äº¤æ˜“æ æ†
    "get_kline_num": 999,  # ç”¨äºè®¡ç®—è¡Œæƒ…kçº¿æ•°é‡ï¼Œå’Œä½ çš„å› å­è®¡ç®—éœ€è¦çš„kçº¿æ•°é‡æœ‰å…³ã€‚è¿™é‡Œè·Ÿç­–ç•¥æ—¥é¢‘å’Œå°æ—¶é¢‘å½±å“ã€‚æ—¥çº¿ç­–ç•¥ï¼Œä»£è¡¨999æ ¹æ—¥çº¿kã€‚å°æ—¶ç­–ç•¥ï¼Œä»£è¡¨999æ ¹å°æ—¶k
    "min_kline_num": 168,  # æœ€ä½è¦æ±‚bä¸­æœ‰å¤šå°‘å°æ—¶çš„Kçº¿ï¼Œ éœ€è¦è¿‡æ»¤æ‰å°‘äºè¿™ä¸ªkçº¿æ•°é‡çš„æ¯”é‡ï¼Œç”¨äºæ’é™¤æ–°å¸ã€‚168=7x24h
}

is_debug = False  # debugæ¨¡å¼ã€‚æ¨¡æ‹Ÿè¿è¡Œç¨‹åºï¼Œä¸ä¼šå»ä¸‹å•ï¼Œæ­£å¼éƒ¨ç½²å®ç›˜ä¹‹å‰è®°å¾—åˆ‡æ¢ä¸€ä¸‹è¿è¡Œæ¨¡å¼å“¦
# ====================================================================================================
# ** äº¤æ˜“æ‰€é…ç½® **
# ====================================================================================================
# å¦‚æœä½¿ç”¨ä»£ç† æ³¨æ„æ›¿æ¢IPå’ŒPort
proxy = {}
# proxy = {'http': 'http://127.0.0.1:7897', 'https': 'http://127.0.0.1:7897'}  # å¦‚æœä½ ç”¨clashçš„è¯
exchange_basic_config = {
    'timeout': 30000,
    'rateLimit': 30,
    'enableRateLimit': False,
    'options': {
        'adjustForTimeDifference': True,
        'recvWindow': 10000,
    },
    'proxies': proxy,
}

# ====================================================================================================
# ** è¿è¡Œæ¨¡å¼åŠäº¤æ˜“ç»†èŠ‚è®¾ç½® **
# è®¾ç½®ç³»ç»Ÿçš„æ—¶å·®ã€å¹¶è¡Œæ•°é‡ï¼Œç¨³å®šå¸ï¼Œç‰¹æ®Šå¸ç§ç­‰ç­‰
# ====================================================================================================
# è·å–å½“å‰æœåŠ¡å™¨æ—¶åŒºï¼Œè·ç¦»UTC 0ç‚¹çš„åå·®
utc_offset = int(time.localtime().tm_gmtoff / 60 / 60)  # å¦‚æœæœåŠ¡å™¨åœ¨ä¸Šæµ·ï¼Œé‚£ä¹ˆutc_offset=8

# ç°è´§ç¨³å®šå¸åå•ï¼Œä¸å‚ä¸äº¤æ˜“çš„å¸ç§
stable_symbol = ['BKRW', 'USDC', 'USDP', 'TUSD', 'BUSD', 'FDUSD', 'DAI', 'EUR', 'GBP', 'USBP', 'SUSD', 'PAXG', 'AEUR',
                 'EURI']

# klineä¸‹è½½æ•°æ®ç±»å‹ã€‚æ”¯æŒ:spot , swap, funding
# å¦‚æœåªéœ€è¦ç°è´§å’Œåˆçº¦ï¼Œå¯ä»¥åªä¸‹è½½spotå’Œswapï¼Œéœ€è¦èµ„é‡‘è´¹æ•°æ®ï¼Œé…ç½®funding
download_kline_list = ['swap', 'spot', ]

# ç‰¹æ®Šç°è´§å¯¹åº”åˆ—è¡¨ã€‚æœ‰äº›å¸ç§çš„ç°è´§å’Œåˆçº¦çš„äº¤æ˜“å¯¹ä¸ä¸€è‡´ï¼Œéœ€è¦æ‰‹å·¥åšæ˜ å°„
special_symbol_dict = {
    'DODO': 'DODOX',  # DODOç°è´§å¯¹åº”DODOXåˆçº¦
    'LUNA': 'LUNA2',  # LUNAç°è´§å¯¹åº”LUNA2åˆçº¦
    '1000SATS': '1000SATS',  # 1000SATSç°è´§å¯¹åº”1000SATSåˆçº¦
}

# å…¨å±€æŠ¥é”™æœºå™¨äººé€šçŸ¥
# - åˆ›å»ºä¼ä¸šå¾®ä¿¡æœºå™¨äºº å‚è€ƒå¸–å­: https://bbs.quantclass.cn/thread/10975
# - é…ç½®æ¡ˆä¾‹  https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=xxxxxxxxxxxxxxxxxxx
error_webhook_url = 'https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key='

# ====================================================================================================
# ** æ–‡ä»¶ç³»ç»Ÿç›¸å…³é…ç½® **
# - è·å–ä¸€äº›å…¨å±€è·¯å¾„
# - è‡ªåŠ¨åˆ›å»ºç¼ºå¤±çš„æ–‡ä»¶å¤¹ä»¬
# ====================================================================================================
# è·å–ç›®å½•ä½ç½®ï¼Œä¸å­˜åœ¨å°±åˆ›å»ºç›®å½•
data_path = get_folder_path('data')

# è·å–ç›®å½•ä½ç½®ï¼Œä¸å­˜åœ¨å°±åˆ›å»ºç›®å½•
data_center_path = get_folder_path('data', 'data_center', as_path_type=True)

# è·å–ç›®å½•ä½ç½®ï¼Œä¸å­˜åœ¨å°±åˆ›å»ºç›®å½•
flag_path = get_folder_path('data', 'flag', as_path_type=True)

# è·å–ç›®å½•ä½ç½®ï¼Œä¸å­˜åœ¨å°±åˆ›å»ºç›®å½•
order_path = get_folder_path('data', 'order', as_path_type=True)

# è·å–ç›®å½•ä½ç½®ï¼Œä¸å­˜åœ¨å°±åˆ›å»ºç›®å½•
runtime_folder = get_folder_path('data', 'runtime', as_path_type=True)
